{% extends "base.html" %}
{% block content %}
<h3 class="light-blue-text  text-darken-1 center-align">Edit Your Story</h3>
<div class="row card-panel orange lighten-5">
   <form class="col s12" method="POST" action="{{ url_for('edit_stories', stories_id=stories._id) }}">
      <!--Gategory Selection-->
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-folder-open prefix light-blue-text text-darken-1"></i>
            <select id="category_name" name="category_name" class="validate" required>
               <option value="" disabled>Choose Your Story</option>
               {% for category in categories %}
               {% if category.category_name == stories.category_name %}
               <option value="{{ category.category_name }}" selected>{{ category.category_name }}</option>
               {% else %}    
               <option value="{{ category.category_name }}">{{ category.category_name }}</option>
               {% endif %}
               {% endfor %}
            </select>
            <label for="category_name"> Choose Your Story</label>
         </div>
      </div>
      <!--Stories Name-->
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-pencil-alt prefix light-blue-text text-darken-1"></i>
            <input id="stories_name" name="stories_name" minlength="5" maxlength="50"
               value="{{ stories.stories_name }}"  type="text" class="validate">
            <label for="stories_name">Story Name</label>
         </div>
      </div>
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-pencil-alt prefix light-blue-text text-darken-1"></i>
            <textarea id="stories_description" name="stories_description" minlength="5"
               maxlength="500" class="materialize-textarea validate">
            {{- stories.stories_description -}}
            </textarea>
            <label for="stories_description">Your Story</label>
         </div>
      </div>
      <!--Image URL Input-->
      <div class="row">
         <div class="input-field col s12">
            <i class="fas fa-image prefix light-blue-text text-darken-1"></i>
            <input 
               id="img_url" 
               name="img_url" 
               minlenght="7" 
               type="url" 
               pattern="https://.*" 
               class="validate lazyload"
               value="{{ stories.img_url }}"  > 
            <label for="img_url">Enter Image URL</label>
         </div>
      </div>
      <!-- submit button -->
      <div class="row">
         <div class="col s12 center-align">
            <!-- cancel button -->
            <a href="{{ url_for('get_stories') }}" class="btn-large red text-shadow">
            Cancel <i class="fas fa-times-circle right"></i>
            </a>
            <button type="submit" class="btn-large light-blue darken-1 text-shadow">
            Edit Story <i class="material-icons">cloud</i>
            </button>
         </div>
      </div>
   </form>
</div>
{% endblock %}



